# Sakila 영화 대여 관리 시스템 프로젝트 계획서

## 프로젝트 개요
SQLite3로 구축된 Sakila 데이터베이스를 기반으로 한 Next.js 애플리케이션을 개발합니다. 
이 애플리케이션은 영화 대여점 관리 시스템으로, 영화 카탈로그 브라우징, 대여 관리, 고객 관리 등의 기능을 제공합니다.

## 기능 목록

### 1. 영화 카탈로그 기능
- **영화 목록 조회**: 페이지네이션과 정렬 기능을 제공하는 영화 목록 페이지
- **영화 상세 정보 조회**: 영화의 세부 정보, 출연 배우, 카테고리 등을 표시
- **카테고리별 필터링**: 영화를 카테고리별로 필터링하는 기능
- **영화 검색**: 제목, 배우, 설명 등으로 영화를 검색할 수 있는 기능

### 2. 고객 관리 기능
- **고객 목록 조회**: 고객 정보 목록 페이지
- **고객 상세 정보 조회**: 고객의 세부 정보 및 대여 기록 조회
- **고객 정보 수정**: 고객 정보 업데이트 기능
- **신규 고객 등록**: 새로운 고객을 시스템에 등록하는 기능

### 3. 대여 및 반납 기능
- **영화 대여**: 고객이 영화를 대여하는 기능
- **대여 현황 조회**: 현재 대여 중인 영화 목록 조회
- **영화 반납**: 대여한 영화를 반납하는 기능
- **연체료 계산**: 반납 기한을 넘긴 경우 연체료를 계산하는 기능

### 4. 결제 관리 기능
- **결제 내역 조회**: 결제 기록을 조회하는 기능
- **결제 처리**: 신규 결제를 처리하는 기능
- **결제 통계**: 기간별 결제 통계를 조회하는 기능

### 5. 관리자 대시보드
- **재고 관리**: 현재 영화 재고 상태 확인 및 관리
- **인기 영화 통계**: 가장 많이 대여된 영화 통계
- **매출 보고서**: 기간별 매출 보고서 생성 
- **직원 관리**: 직원 정보 조회 및 관리

## UI 계획

### 1. 메인 페이지
- 최신 영화 목록 카드 뷰로 표시
- 인기 영화 캐러셀 슬라이더 
- 카테고리 탐색 메뉴
- 검색 바

### 2. 영화 목록 페이지
- 그리드 형태로 영화 포스터와 기본 정보 표시
- 필터링 사이드바 (카테고리, 언어, 등급 등)
- 정렬 옵션 (제목, 개봉년도, 인기도)
- 페이지네이션

### 3. 영화 상세 페이지
- 영화 포스터 및 상세 정보
- 배우 목록과 사진
- 대여 가능 여부 표시
- 대여 버튼

### 4. 고객 관리 페이지
- 고객 목록 테이블 형태
- 검색 및 필터링 기능
- 고객 상세 정보 모달/페이지

### 5. 대여 관리 페이지
- 대여 중인 영화 목록 테이블
- 반납 예정일 표시
- 반납 처리 버튼
- 연체 상태 표시

### 6. 관리자 대시보드
- 주요 지표 카드 (총 대여 수, 수익, 고객 수 등)
- 차트로 시각화된 매출 데이터
- 재고 상태 테이블
- 직원 관리 섹션

## API 계획

### 1. 영화 관련 API
- `GET /api/films`: 영화 목록 조회 (페이지네이션, 필터링, 정렬 지원)
- `GET /api/films/{id}`: 특정 영화 상세 정보 조회
- `GET /api/films/search`: 영화 검색
- `GET /api/categories`: 카테고리 목록 조회
- `GET /api/categories/{id}/films`: 카테고리별 영화 조회

### 2. 배우 관련 API
- `GET /api/actors`: 배우 목록 조회
- `GET /api/actors/{id}`: 특정 배우 정보 조회
- `GET /api/actors/{id}/films`: 배우가 출연한 영화 조회

### 3. 고객 관련 API
- `GET /api/customers`: 고객 목록 조회
- `GET /api/customers/{id}`: 특정 고객 정보 조회
- `POST /api/customers`: 신규 고객 등록
- `PUT /api/customers/{id}`: 고객 정보 수정
- `GET /api/customers/{id}/rentals`: 고객의 대여 기록 조회

### 4. 대여 관련 API
- `GET /api/rentals`: 대여 목록 조회
- `POST /api/rentals`: 신규 대여 등록
- `PUT /api/rentals/{id}/return`: 영화 반납 처리
- `GET /api/inventory/available`: 대여 가능한 재고 조회

### 5. 결제 관련 API
- `GET /api/payments`: 결제 목록 조회
- `POST /api/payments`: 신규 결제 등록
- `GET /api/payments/stats`: 결제 통계 조회

## 개발 단계별 계획

### 1단계: 프로젝트 초기 설정
- [x] Next.js 프로젝트 생성
- [x] SQLite3 연결 설정
- [x] 기본 페이지 레이아웃 구성

### 2단계: 영화 카탈로그 기능 개발
- [x] 영화 목록 API 및 페이지 개발
- [x] 영화 상세 정보 API 및 페이지 개발
- [x] 영화 검색 기능 개발
- [x] 카테고리별 필터링 기능 개발

### 3단계: 고객 관리 기능 개발
- [x] 고객 목록 및 상세 정보 API 개발
- [x] 고객 관리 페이지 개발
- [x] 고객 등록 및 수정 기능 개발

### 4단계: 대여 및 반납 기능 개발
- [x] 대여 기능 API 및 UI 개발
- [x] 반납 기능 개발
- [x] 대여 현황 조회 기능 개발

### 5단계: 결제 관리 기능 개발
- [x] 결제 내역 조회 기능 개발
- [x] 결제 처리 기능 개발
- [x] 결제 통계 기능 개발

### 6단계: 관리자 대시보드 개발
- [x] 통계 데이터 API 개발
- [x] 대시보드 UI 개발
- [x] 재고 관리 기능 개발
- [x] 직원 관리 기능 개발

### 7단계: 최종 테스트 및 배포
- [x] 전체 기능 테스트
- [x] 버그 수정
- [ ] 성능 최적화
- [ ] 배포 준비 및 배포
